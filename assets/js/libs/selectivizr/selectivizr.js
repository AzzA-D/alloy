/* selectivizr v1.0.3b - (c) Keith Clark, freely distributable under the terms 
of the MIT license. selectivizr.com */
(function(m){function E(a){return a.replace(F,"$1").replace(G,function(a,d,c){a=c.split(",");c=0;for(var e=a.length;c<e;c++){var h=H(a[c].replace(I,"$1").replace(J,"$1"))+" ",g=[];a[c]=h.replace(K,function(a,b,c,d,e){return b?(0<g.length&&(t.push({d:h.substring(0,e),c:g}),g=[]),b):(b=c?L(c):!x||x.test(d)?{className:y(d),b:!0}:null)?(g.push(b),"."+b.className):a})}return d+a.join(",")})}function L(a){var b=!0,d=y(a.slice(1)),c=":not("==a.substring(0,5),e,h;c&&(a=a.slice(5,-1));var g=a.indexOf("(");
-1<g&&(a=a.substring(0,g));if(":"==a.charAt(0))switch(a.slice(1)){case "root":b=function(a){return c?a!=u:a==u};break;case "target":if(8==k){b=function(a){function b(){var d=location.hash,e=d.slice(1);return c?""==d||a.id!=e:""!=d&&a.id==e}l(m,"hashchange",function(){p(a,d,b())});return b()};break}return!1;case "checked":b=function(a){M.test(a.type)&&l(a,"propertychange",function(){"checked"==event.propertyName&&p(a,d,a.checked!==c)});return a.checked!==c};break;case "disabled":c=!c;case "enabled":b=
function(b){return N.test(b.tagName)?(l(b,"propertychange",function(){"$disabled"==event.propertyName&&p(b,d,b.a===c)}),v.push(b),b.a=b.disabled,b.disabled===c):":enabled"==a?c:!c};break;case "focus":e="focus",h="blur";case "hover":e||(e="mouseenter",h="mouseleave");b=function(a){l(a,c?h:e,function(){p(a,d,!0)});l(a,c?e:h,function(){p(a,d,!1)});return c};break;default:if(!O.test(a))return!1}return{className:d,b:b}}function P(){for(var a,b,d,c,e=0;e<t.length;e++){b=t[e].d;d=t[e].c;c=b.replace(Q,"");
if(""==c||" "==c.charAt(c.length-1))c+="*";try{a=z(c)}catch(h){m.console&&m.console.log("Selector '"+b+"' threw exception '"+h+"'")}if(a)for(b=0,c=a.length;b<c;b++){for(var g=a[b],n=g.className,f=0,l=d.length;f<l;f++){var k=d[f];(new RegExp("(^|\\s)"+k.className+"(\\s|$)")).test(g.className)||!k.b||!0!==k.b&&!0!==k.b(g)||(n=A(n,k.className,!0))}g.className=n}}}function y(a){return"slvzr-"+(6==k?R++:a.replace(S,function(a){return a.charCodeAt(0)}))}function H(a){return a.replace(B,"$1").replace(T,
" ")}function p(a,b,d){var c=a.className;b=A(c,b,d);b!=c&&(a.className=b,a.parentNode.className+="")}function A(a,b,d){var c=RegExp("(^|\\s)"+b+"(\\s|$)"),e=c.test(a);return d?e?a:a+" "+b:e?a.replace(c,"$1").replace(B,"$1"):a}function l(a,b,d){a.attachEvent("on"+b,d)}function w(a,b,d){b||(b=U);"//"==a.substring(0,2)&&(a=b.substring(0,b.indexOf("//"))+a);if(/^https?:\/\//i.test(a))return d||b.substring(0,b.indexOf("/",8))==a.substring(0,a.indexOf("/",8))?a:null;if("/"==a.charAt(0))return b.substring(0,
b.indexOf("/",8))+a;b=b.split(/[?#]/)[0];"?"!=a.charAt(0)&&"/"!=b.charAt(b.length-1)&&(b=b.substring(0,b.lastIndexOf("/")+1));return b+a}function C(a){var b;a?(q.open("GET",a,!1),q.send(),b=(200==q.status?q.responseText:"").replace(V,"").replace(W,function(b,c,e,f,g,n){b=C(w(e||g,a));return n?"@media "+n+" {"+b+"}":b}).replace(X,function(b,c,e,f){e=e||"";return c?b:" url("+e+w(f,a,!0)+e+") "})):b="";return b}function Y(){for(var a,b,d=0;d<f.styleSheets.length;d++)if(b=f.styleSheets[d],""!=b.href&&
(a=w(b.href)))b.cssText=b.rawCssText=E(C(a))}function Z(){P();0<v.length&&setInterval(function(){for(var a=0,b=v.length;a<b;a++){var d=v[a];d.disabled!==d.a&&(d.disabled?(d.disabled=!1,d.a=!0,d.disabled=!0):d.a=d.disabled)}},250)}function aa(a,b){function d(){try{u.doScroll("left")}catch(a){setTimeout(d,50);return}c("poll")}function c(d){if("readystatechange"!=d.type||"complete"==f.readyState)("load"==d.type?a:f).detachEvent("on"+d.type,c,!1),!e&&(e=!0)&&b.call(a,d.type||d)}var e=!1,h=!0;if("complete"==
f.readyState)b.call(a,"");else{if(f.createEventObject&&u.doScroll){try{h=!a.frameElement}catch(g){}h&&d()}l(f,"readystatechange",c);l(a,"load",c)}}var r=navigator.userAgent.match(/MSIE (\d+)/);if(!r)return!1;var f=document,u=f.documentElement,q=function(){if(m.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){return null}}(),k=r[1];if(!("CSS1Compat"!=f.compatMode||6>k||8<k)&&q){var D={NW:"*.Dom.select",MooTools:"$$",DOMAssistant:"*.$",Prototype:"$$",
YAHOO:"*.util.Selector.query",Sizzle:"*",jQuery:"*",dojo:"*.query"},z,v=[],t=[],R=0,V=/(\/\*[^*]*\*+([^\/][^*]*\*+)*\/)\s*?/g,W=/@import\s*(?:(?:(?:url\(\s*(['"]?)(.*)\1)\s*\))|(?:(['"])(.*)\3))\s*([^;]*);/g,X=/(behavior\s*?:\s*)?\burl\(\s*(["']?)(?!data:)([^"')]+)\2\s*\)/g,O=/^:(empty|(first|last|only|nth(-last)?)-(child|of-type))$/,F=/:(:first-(?:line|letter))/g,G=/((?:^|(?:\s*})+)(?:\s*@media[^{]+{)?)\s*([^\{]*?[\[:][^{]+)/g,K=/([ +~>])|(:[a-z-]+(?:\(.*?\)+)?)|(\[.*?\])/g,Q=/(:not\()?:(hover|enabled|disabled|focus|checked|target|active|visited|first-line|first-letter)\)?/g,
S=/[^\w-]/g,N=/^(INPUT|SELECT|TEXTAREA|BUTTON)$/,M=/^(checkbox|radio)$/,x=6<k?/[\$\^*]=(['"])\1/:null,I=/([(\[+~])\s+/g,J=/\s+([)\]+~])/g,T=/\s+/g,B=/^\s*((?:[\S\s]*\S)?)\s*$/,r=f.getElementsByTagName("BASE"),U=0<r.length?r[0].href:f.location.href;Y();aa(m,function(){for(var a in D){var b,d,c=m;if(m[a]){for(b=D[a].replace("*",a).split(".");(d=b.shift())&&(c=c[d]););if("function"==typeof c){z=c;Z();break}}}})}})(this);